# 4.4 Числовые функции Часть 1

# Операторы DIV и MOD

Оператор `DIV` используется для целочисленного деления одного числа на другое. 

Результатом запроса:

```
SELECT 11 DIV 2,
       11 DIV 3,
       11 DIV 4;
```

будет:

```
+----------+----------+----------+
| 11 DIV 2 | 11 DIV 3 | 11 DIV 4 |
+----------+----------+----------+
| 5        | 3        | 2        |
+----------+----------+----------+
```

Оператор `MOD` используется для вычисления остатка числа при делении одного на другое.

Результатом запроса:

```
SELECT 11 MOD 2,
       11 MOD 3,
       11 MOD 4;
```

будет:

```
+----------+----------+----------+
| 11 MOD 2 | 11 MOD 3 | 11 MOD 4 |
+----------+----------+----------+
| 1        | 2        | 3        |
+----------+----------+----------+
```

Помимо оператора `MOD`, для вычисления остатка от деления можно использовать оператор `%` или функцию `MOD()`.

Результатом запроса:

```
SELECT 11 MOD 3,
       11 % 3,
       MOD(11, 3);
```

будет:

```
+----------+--------+------------+
| 11 MOD 3 | 11 % 3 | MOD(11, 3) |
+----------+--------+------------+
| 2        | 2      | 2          |
+----------+--------+------------+
```

# Функция ABS()

Функция `ABS()` используется для вычисления модуля числа. Она принимает в качестве аргумента число и возвращает его модуль.

Результатом запроса:

```
SELECT ABS(-1),
       ABS(-2.1234),
       ABS(0),
       ABS(35);
```

будет:

```
+---------+--------------+--------+---------+
| ABS(-1) | ABS(-2.1234) | ABS(0) | ABS(35) |
+---------+--------------+--------+---------+
| 1       | 2.1234       | 0      | 35      |
+---------+--------------+--------+---------+
```

# Функция ROUND()

Функция `ROUND()` используется для округления числа и принимает два аргумента в следующем порядке:

* `num` - число
* `decimals` - количество знаков после запятой

Функция возвращает число `num`, округленное до `decimals` знаков после запятой.

Результатом запроса:

```
SELECT ROUND(23.1653, 3),
       ROUND(23.1653, 2),
       ROUND(23.1653, 1),
       ROUND(23.1653, 0);
```

будет:

```
+-------------------+-------------------+-------------------+-------------------+
| ROUND(23.1653, 3) | ROUND(23.1653, 2) | ROUND(23.1653, 1) | ROUND(23.1653, 0) |
+-------------------+-------------------+-------------------+-------------------+
| 23.165            | 23.17             | 23.2              | 23                |
+-------------------+-------------------+-------------------+-------------------+
```

Функция `ROUND()` округляет число согласно математическим правилам округления, то есть в большую по модулю сторону (5 и больше — округляем в большую сторону, меньше 5 — в меньшую).

Результатом запроса:

```
SELECT ROUND(23.165, 2),
       ROUND(-23.165, 2);
```

будет:

```
+------------------+-------------------+
| ROUND(23.165, 2) | ROUND(-23.165, 2) |
+------------------+-------------------+
| 23.17            | -23.17            |
+------------------+-------------------+
```

Количество знаков после запятой может быть не указано, в таком случае функция `ROUND()` выполнит округление до целого числа.

Результатом запроса:

```
SELECT ROUND(23.3),
       ROUND(23.5),
       ROUND(23.7),
       ROUND(-23.3),
       ROUND(-23.5),
       ROUND(-23.7);
```

будет:

```
+-------------+-------------+-------------+--------------+--------------+--------------+
| ROUND(23.3) | ROUND(23.5) | ROUND(23.7) | ROUND(-23.3) | ROUND(-23.5) | ROUND(-23.7) |
+-------------+-------------+-------------+--------------+--------------+--------------+
| 23          | 24          | 24          | -23          | -24          | -24          |
+-------------+-------------+-------------+--------------+--------------+--------------+
```

# Функция POW()

Функция `POW()` используется для возведения числа в определенную степень и принимает два аргумента в следующем порядке:

* `num` - число
* `degree` - показатель степени

Функция возвращает число `num`, возведенное в степень `degree`.

Результатом запроса:

```
SELECT POW(2, 3),
       POW(3, 5),
       POW(4, 0),
       POW(5, -1);
```

будет:

```
+-----------+-----------+-----------+------------+
| POW(2, 3) | POW(3, 5) | POW(4, 0) | POW(5, -1) |
+-----------+-----------+-----------+------------+
| 8.0       | 243.0     | 1.0       | 0.2        |
+-----------+-----------+-----------+------------+
```

# Функция SQRT()

Функция `SQRT()` используется для вычисления квадратного корня и принимает в качестве аргумента число, извлекая из него квадратный корень и возвращая полученный результат.

Результатом запроса:

```
SELECT SQRT(0),
       SQRT(9),
       SQRT(20);
```

```
+---------+---------+------------------+
| SQRT(0) | SQRT(9) | SQRT(20)         |
+---------+---------+------------------+
| 0.0     | 3.0     | 4.47213595499958 |
+---------+---------+------------------+
```

Если в качестве аргумента передано число меньше нуля, функция `SQRT()` вернет значение `NULL`

Результатом запроса:

```
SELECT SQRT(-1),
       SQRT(-100);
```

будет:

```
+----------+------------+
| SQRT(-1) | SQRT(-100) |
+----------+------------+
| NULL     | NULL       |
+----------+------------+
```

# Функция RAND()

Функция `RAND()` используется для генерации случайных чисел. При вызове без аргументов она возвращает случайное число с плавающей точкой в диапазоне: `[0, 1)`. 

Результатом запроса:

```
SELECT RAND(),
       RAND(),
       RAND();
```

может являться:

```
+-------------------+--------------------+---------------------+
| RAND()            | RAND()             | RAND()              |
+-------------------+--------------------+---------------------+
| 0.338787759038422 | 0.8266121575856694 | 0.11669754154672617 |
+-------------------+--------------------+---------------------+
```

Функция может принимать один не обязательный аргумент, целое число определяющее начальное значение при генерации случайного числа. С одним и тем же аргументом, функция будет возвращать одно и то же случайное число.

Результатом запроса:

```
SELECT RAND(2),
       RAND(2),
       RAND(3),
       RAND(3);
```

будет:

```
+--------------------+--------------------+--------------------+--------------------+
| RAND(2)            | RAND(2)            | RAND(3)            | RAND(3)            |
+--------------------+--------------------+--------------------+--------------------+
| 0.6555866465490187 | 0.6555866465490187 | 0.9057697559760601 | 0.9057697559760601 |
+--------------------+--------------------+--------------------+--------------------+
```

#### Примечание 1.

Помимо функции `ROUND()`, SQL поддерживает две дополнительные функции для округления чисел: `FLOOR()` и `CELING()`. Первая функция используется для округления числа в меньшую сторону, вторая - в большую сторону.

Результатом запроса:

```
SELECT FLOOR(123.87),
       FLOOR(-11.22),
       CEILING(18.39),
       CEILING(-11.22);
```

будет:

```
+---------------+---------------+----------------+-----------------+
| FLOOR(123.87) | FLOOR(-11.22) | CEILING(18.39) | CEILING(-11.22) |
+---------------+---------------+----------------+-----------------+
| 123           | -12           | 19             | -11             |
+---------------+---------------+----------------+-----------------+
```

#### Примечание 2.

Функция `RAND()` в комбинации с операторами `ORDER BY` и `LIMIT` позволяет извлекать из таблицы определенное количество случайных записей.

Для каждой записи функция `RAND()` вызывается отдельно. Таким образом, сначала каждой записи сопоставляется определенное случайное число, а затем записи сортируются на основе этих случайных чисел.

